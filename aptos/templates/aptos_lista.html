<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Lista de Apartamentos</title>
    <style>
      body {
        font-family: Arial, sans-serif;
      }
      .apto {
        border: 1px solid #ccc;
        padding: 15px;
        margin-bottom: 20px;
      }
      .photos {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 10px;
      }
      .photos img {
        max-width: 150px;
        height: auto;
        border: 1px solid #ddd;
        padding: 5px;
      }
    </style>
  </head>
  <body>
    <h1>Lista de Apartamentos</h1>
    {% for apto in aptos %}
      <div class="apto">
        <h2>Apartamento {{ apto.unit_number }}</h2>
        <p>
          <strong>Descrição:</strong> {{ apto.description }}
        </p>
        <p>
          <strong>Preço de aluguel:</strong> R$ {{ apto.rental_price }}
        </p>
        <p>
          <strong>Andar:</strong> {{ apto.floor }}
        </p>
        <p>
          <strong>Construção:</strong> {{ apto.building_name.name }}
        </p>
        <p>
          <strong>Endereço:</strong> {{ apto.building_name.street }},
          {{ apto.building_name.neighborhood }}, {{ apto.building_name.city }} -
          {{ apto.building_name.state }}, {{ apto.building_name.country }}, CEP: {{ apto.building_name.zip_code }}
        </p>
        <p>
          <strong>Quartos:</strong> {{ apto.number_of_bedrooms }} |
          <strong>Banheiros:</strong> {{ apto.number_of_bathrooms }}
        </p>
        <p>
          <strong>Tamanho:</strong> {{ apto.square_footage }} sqft
        </p>
        <p>
          <strong>Disponível:</strong> {{ apto.is_available|yesno:'Sim,Não' }}
        </p>
        <p>
          <strong>Mobilhado:</strong> {{ apto.is_furnished|yesno:'Sim,Não' }}
        </p>
        <p>
          <strong>Permite Pets:</strong> {{ apto.is_pets_allowed|yesno:'Sim,Não' }}
        </p>
        <p>
          <strong>Tem Lavanderia:</strong> {{ apto.has_laundry|yesno:'Sim,Não' }}
        </p>
        <p>
          <strong>Tem Vaga de Estacionamento:</strong> {{ apto.has_parking|yesno:'Sim,Não' }}
        </p>
        <p>
          <strong>Tem Internet:</strong> {{ apto.has_internet|yesno:'Sim,Não' }}
        </p>
        <p>
          <strong>Ar Condicionado:</strong> {{ apto.has_air_conditioning|yesno:'Sim,Não' }}
        </p>
        {% if apto.video %}
          <p>
            <a href="{{ apto.video.url }}">Ver vídeo do apartamento</a>
          </p>
        {% endif %} {% if apto.fotos.all %}
          <h3>Fotos:</h3>
          <div class="photos">
            {% for foto in apto.fotos.all %}
              {% if foto.photos %}
                <img src="{{ foto.photos.url }}" alt="{{ foto.description|default:'Foto' }}" />
              {% endif %}
            {% endfor %}
          </div>
        {% endif %}
      </div>
    {% empty %}
      <p>Nenhum apartamento encontrado.</p>
    {% endfor %}
  </body>
</html>
